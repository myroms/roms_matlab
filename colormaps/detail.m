function cmap = detail(varargin)

% DETAIL: 254 color palette
%
% cmap = detail(M)
%
% Detail banded colormap from NCL NCAR Graphics.
%
% https://www.ncl.ucar.edu/Document/Graphics/ColorTables/detail.shtml
%
% On Input:
%
%    M        Number of colors (integer, OPTIONAL)
%
% On Ouput:
%
%    cmap     Mx3 colormap matrix
%
% Usage:
%
%    colormap(detail)
%    colormap(flipud(detail))
%

% svn $Id$
%===========================================================================%
%  Copyright (c) 2002-2025 The ROMS Group                                   %
%    Licensed under a MIT/X style license                                   %
%    See License_ROMS.md                            Hernan G. Arango        %
%===========================================================================%

% Initialize.

switch numel(varargin)
  case 0
    M = 254;
  case 1
    M = varargin{1};
end

% Set 254 colormap.

cmap = [[0.000000000000000,  0.000000000000000,  1.000000000000000],
        [0.000000000000000,  0.039215686274510,  1.000000000000000],
        [0.003921568627451,  0.078431372549020,  0.996078431372549],
        [0.007843137254902,  0.156862745098039,  0.992156862745098],
        [0.011764705882353,  0.235294117647059,  0.988235294117647],
        [0.015686274509804,  0.313725490196078,  0.984313725490196],
        [0.019607843137255,  0.447058823529412,  0.980392156862745],
        [0.023529411764706,  0.568627450980392,  0.976470588235294],
        [0.027450980392157,  0.686274509803922,  0.972549019607843],
        [0.031372549019608,  0.792156862745098,  0.968627450980392],
        [0.035294117647059,  0.882352941176471,  0.964705882352941],
        [0.039215686274510,  0.945098039215686,  0.960784313725490],
        [0.043137254901961,  0.984313725490196,  0.956862745098039],
        [0.047058823529412,  0.992156862745098,  0.952941176470588],
        [0.050980392156863,  0.972549019607843,  0.949019607843137],
        [0.054901960784314,  0.921568627450980,  0.945098039215686],
        [0.058823529411765,  0.847058823529412,  0.941176470588235],
        [0.062745098039216,  0.752941176470588,  0.937254901960784],
        [0.066666666666667,  0.639215686274510,  0.933333333333333],
        [0.070588235294118,  0.521568627450980,  0.929411764705882],
        [0.074509803921569,  0.400000000000000,  0.925490196078431],
        [0.078431372549020,  0.282352941176471,  0.921568627450980],
        [0.082352941176471,  0.180392156862745,  0.917647058823529],
        [0.086274509803922,  0.094117647058824,  0.913725490196078],
        [0.090196078431373,  0.035294117647059,  0.909803921568627],
        [0.094117647058824,  0.003921568627451,  0.905882352941176],
        [0.098039215686275,  0.000000000000000,  0.901960784313726],
        [0.101960784313725,  0.027450980392157,  0.898039215686275],
        [0.105882352941176,  0.082352941176471,  0.894117647058824],
        [0.109803921568627,  0.160784313725490,  0.890196078431372],
        [0.113725490196078,  0.262745098039216,  0.886274509803922],
        [0.117647058823529,  0.376470588235294,  0.882352941176471],
        [0.121568627450980,  0.494117647058824,  0.878431372549020],
        [0.125490196078431,  0.615686274509804,  0.874509803921569],
        [0.129411764705882,  0.729411764705882,  0.870588235294118],
        [0.133333333333333,  0.831372549019608,  0.866666666666667],
        [0.137254901960784,  0.909803921568627,  0.862745098039216],
        [0.141176470588235,  0.964705882352941,  0.858823529411765],
        [0.145098039215686,  0.992156862745098,  0.854901960784314],
        [0.149019607843137,  0.988235294117647,  0.850980392156863],
        [0.152941176470588,  0.956862745098039,  0.847058823529412],
        [0.156862745098039,  0.898039215686275,  0.843137254901961],
        [0.160784313725490,  0.811764705882353,  0.839215686274510],
        [0.164705882352941,  0.709803921568627,  0.835294117647059],
        [0.168627450980392,  0.592156862745098,  0.831372549019608],
        [0.172549019607843,  0.470588235294118,  0.827450980392157],
        [0.176470588235294,  0.352941176470588,  0.823529411764706],
        [0.180392156862745,  0.239215686274510,  0.819607843137255],
        [0.184313725490196,  0.145098039215686,  0.815686274509804],
        [0.188235294117647,  0.070588235294118,  0.811764705882353],
        [0.192156862745098,  0.019607843137255,  0.807843137254902],
        [0.196078431372549,  0.000000000000000,  0.803921568627451],
        [0.200000000000000,  0.007843137254902,  0.800000000000000],
        [0.203921568627451,  0.047058823529412,  0.796078431372549],
        [0.207843137254902,  0.109803921568627,  0.792156862745098],
        [0.211764705882353,  0.200000000000000,  0.788235294117647],
        [0.215686274509804,  0.305882352941176,  0.784313725490196],
        [0.219607843137255,  0.423529411764706,  0.780392156862745],
        [0.223529411764706,  0.545098039215686,  0.776470588235294],
        [0.227450980392157,  0.662745098039216,  0.772549019607843],
        [0.231372549019608,  0.772549019607843,  0.768627450980392],
        [0.235294117647059,  0.866666666666667,  0.764705882352941],
        [0.239215686274510,  0.937254901960784,  0.760784313725490],
        [0.243137254901961,  0.980392156862745,  0.756862745098039],
        [0.247058823529412,  0.996078431372549,  0.752941176470588],
        [0.250980392156863,  0.980392156862745,  0.749019607843137],
        [0.254901960784314,  0.937254901960784,  0.745098039215686],
        [0.258823529411765,  0.866666666666667,  0.741176470588235],
        [0.262745098039216,  0.772549019607843,  0.737254901960784],
        [0.266666666666667,  0.662745098039216,  0.733333333333333],
        [0.270588235294118,  0.545098039215686,  0.729411764705882],
        [0.274509803921569,  0.423529411764706,  0.725490196078431],
        [0.278431372549020,  0.305882352941176,  0.721568627450980],
        [0.282352941176471,  0.200000000000000,  0.717647058823529],
        [0.286274509803922,  0.109803921568627,  0.713725490196078],
        [0.290196078431373,  0.047058823529412,  0.709803921568627],
        [0.294117647058824,  0.007843137254902,  0.705882352941177],
        [0.298039215686275,  0.000000000000000,  0.701960784313725],
        [0.301960784313725,  0.019607843137255,  0.698039215686274],
        [0.305882352941176,  0.070588235294118,  0.694117647058824],
        [0.309803921568627,  0.145098039215686,  0.690196078431373],
        [0.313725490196078,  0.239215686274510,  0.686274509803922],
        [0.317647058823529,  0.352941176470588,  0.682352941176471],
        [0.321568627450980,  0.470588235294118,  0.678431372549020],
        [0.325490196078431,  0.592156862745098,  0.674509803921569],
        [0.329411764705882,  0.709803921568627,  0.670588235294118],
        [0.333333333333333,  0.811764705882353,  0.666666666666667],
        [0.337254901960784,  0.898039215686275,  0.662745098039216],
        [0.341176470588235,  0.956862745098039,  0.658823529411765],
        [0.345098039215686,  0.988235294117647,  0.654901960784314],
        [0.349019607843137,  0.992156862745098,  0.650980392156863],
        [0.352941176470588,  0.964705882352941,  0.647058823529412],
        [0.356862745098039,  0.909803921568627,  0.643137254901961],
        [0.360784313725490,  0.831372549019608,  0.639215686274510],
        [0.364705882352941,  0.729411764705882,  0.635294117647059],
        [0.368627450980392,  0.615686274509804,  0.631372549019608],
        [0.372549019607843,  0.498039215686275,  0.627450980392157],
        [0.376470588235294,  0.376470588235294,  0.623529411764706],
        [0.380392156862745,  0.262745098039216,  0.619607843137255],
        [0.384313725490196,  0.160784313725490,  0.615686274509804],
        [0.388235294117647,  0.082352941176471,  0.611764705882353],
        [0.392156862745098,  0.027450980392157,  0.607843137254902],
        [0.396078431372549,  0.000000000000000,  0.603921568627451],
        [0.400000000000000,  0.003921568627451,  0.600000000000000],
        [0.403921568627451,  0.035294117647059,  0.596078431372549],
        [0.407843137254902,  0.094117647058824,  0.592156862745098],
        [0.411764705882353,  0.180392156862745,  0.588235294117647],
        [0.415686274509804,  0.282352941176471,  0.584313725490196],
        [0.419607843137255,  0.400000000000000,  0.580392156862745],
        [0.423529411764706,  0.521568627450980,  0.576470588235294],
        [0.427450980392157,  0.639215686274510,  0.572549019607843],
        [0.431372549019608,  0.752941176470588,  0.568627450980392],
        [0.435294117647059,  0.847058823529412,  0.564705882352941],
        [0.439215686274510,  0.921568627450980,  0.560784313725490],
        [0.443137254901961,  0.972549019607843,  0.556862745098039],
        [0.447058823529412,  0.992156862745098,  0.552941176470588],
        [0.450980392156863,  0.984313725490196,  0.549019607843137],
        [0.454901960784314,  0.945098039215686,  0.545098039215686],
        [0.458823529411765,  0.882352941176471,  0.541176470588235],
        [0.462745098039216,  0.792156862745098,  0.537254901960784],
        [0.466666666666667,  0.686274509803922,  0.533333333333333],
        [0.470588235294118,  0.568627450980392,  0.529411764705882],
        [0.474509803921569,  0.447058823529412,  0.525490196078431],
        [0.478431372549020,  0.329411764705882,  0.521568627450980],
        [0.482352941176471,  0.219607843137255,  0.517647058823529],
        [0.486274509803922,  0.125490196078431,  0.513725490196078],
        [0.490196078431373,  0.054901960784314,  0.509803921568627],
        [0.494117647058824,  0.011764705882353,  0.505882352941176],
        [0.498039215686275,  0.000000000000000,  0.501960784313725],
        [0.501960784313725,  0.011764705882353,  0.498039215686275],
        [0.505882352941176,  0.054901960784314,  0.494117647058824],
        [0.509803921568627,  0.125490196078431,  0.490196078431373],
        [0.513725490196078,  0.219607843137255,  0.486274509803922],
        [0.517647058823529,  0.329411764705882,  0.482352941176471],
        [0.521568627450980,  0.447058823529412,  0.478431372549020],
        [0.525490196078431,  0.568627450980392,  0.474509803921569],
        [0.529411764705882,  0.686274509803922,  0.470588235294118],
        [0.533333333333333,  0.792156862745098,  0.466666666666667],
        [0.537254901960784,  0.882352941176471,  0.462745098039216],
        [0.541176470588235,  0.945098039215686,  0.458823529411765],
        [0.545098039215686,  0.984313725490196,  0.454901960784314],
        [0.549019607843137,  0.992156862745098,  0.450980392156863],
        [0.552941176470588,  0.972549019607843,  0.447058823529412],
        [0.556862745098039,  0.921568627450980,  0.443137254901961],
        [0.560784313725490,  0.847058823529412,  0.439215686274510],
        [0.564705882352941,  0.752941176470588,  0.435294117647059],
        [0.568627450980392,  0.639215686274510,  0.431372549019608],
        [0.572549019607843,  0.521568627450980,  0.427450980392157],
        [0.576470588235294,  0.400000000000000,  0.423529411764706],
        [0.580392156862745,  0.282352941176471,  0.419607843137255],
        [0.584313725490196,  0.180392156862745,  0.415686274509804],
        [0.588235294117647,  0.094117647058824,  0.411764705882353],
        [0.592156862745098,  0.035294117647059,  0.407843137254902],
        [0.596078431372549,  0.003921568627451,  0.403921568627451],
        [0.600000000000000,  0.000000000000000,  0.400000000000000],
        [0.603921568627451,  0.027450980392157,  0.396078431372549],
        [0.607843137254902,  0.082352941176471,  0.392156862745098],
        [0.611764705882353,  0.160784313725490,  0.388235294117647],
        [0.615686274509804,  0.262745098039216,  0.384313725490196],
        [0.619607843137255,  0.376470588235294,  0.380392156862745],
        [0.623529411764706,  0.494117647058824,  0.376470588235294],
        [0.627450980392157,  0.615686274509804,  0.372549019607843],
        [0.631372549019608,  0.729411764705882,  0.368627450980392],
        [0.635294117647059,  0.831372549019608,  0.364705882352941],
        [0.639215686274510,  0.909803921568627,  0.360784313725490],
        [0.643137254901961,  0.964705882352941,  0.356862745098039],
        [0.647058823529412,  0.992156862745098,  0.352941176470588],
        [0.650980392156863,  0.988235294117647,  0.349019607843137],
        [0.654901960784314,  0.956862745098039,  0.345098039215686],
        [0.658823529411765,  0.898039215686275,  0.341176470588235],
        [0.662745098039216,  0.811764705882353,  0.337254901960784],
        [0.666666666666667,  0.709803921568627,  0.333333333333333],
        [0.670588235294118,  0.592156862745098,  0.329411764705882],
        [0.674509803921569,  0.470588235294118,  0.325490196078431],
        [0.678431372549020,  0.352941176470588,  0.321568627450980],
        [0.682352941176471,  0.239215686274510,  0.317647058823529],
        [0.686274509803922,  0.145098039215686,  0.313725490196078],
        [0.690196078431373,  0.070588235294118,  0.309803921568627],
        [0.694117647058824,  0.019607843137255,  0.305882352941176],
        [0.698039215686274,  0.000000000000000,  0.301960784313725],
        [0.701960784313725,  0.007843137254902,  0.298039215686275],
        [0.705882352941177,  0.047058823529412,  0.294117647058824],
        [0.709803921568627,  0.109803921568627,  0.290196078431373],
        [0.713725490196078,  0.200000000000000,  0.286274509803922],
        [0.717647058823529,  0.305882352941176,  0.282352941176471],
        [0.721568627450980,  0.423529411764706,  0.278431372549020],
        [0.725490196078431,  0.545098039215686,  0.274509803921569],
        [0.729411764705882,  0.662745098039216,  0.270588235294118],
        [0.733333333333333,  0.772549019607843,  0.266666666666667],
        [0.737254901960784,  0.866666666666667,  0.262745098039216],
        [0.741176470588235,  0.937254901960784,  0.258823529411765],
        [0.745098039215686,  0.980392156862745,  0.254901960784314],
        [0.749019607843137,  0.996078431372549,  0.250980392156863],
        [0.752941176470588,  0.980392156862745,  0.247058823529412],
        [0.756862745098039,  0.937254901960784,  0.243137254901961],
        [0.760784313725490,  0.866666666666667,  0.239215686274510],
        [0.764705882352941,  0.772549019607843,  0.235294117647059],
        [0.768627450980392,  0.662745098039216,  0.231372549019608],
        [0.772549019607843,  0.545098039215686,  0.227450980392157],
        [0.776470588235294,  0.423529411764706,  0.223529411764706],
        [0.780392156862745,  0.305882352941176,  0.219607843137255],
        [0.784313725490196,  0.200000000000000,  0.215686274509804],
        [0.788235294117647,  0.109803921568627,  0.211764705882353],
        [0.792156862745098,  0.047058823529412,  0.207843137254902],
        [0.796078431372549,  0.007843137254902,  0.203921568627451],
        [0.800000000000000,  0.000000000000000,  0.200000000000000],
        [0.803921568627451,  0.019607843137255,  0.196078431372549],
        [0.807843137254902,  0.070588235294118,  0.192156862745098],
        [0.811764705882353,  0.145098039215686,  0.188235294117647],
        [0.815686274509804,  0.239215686274510,  0.184313725490196],
        [0.819607843137255,  0.352941176470588,  0.180392156862745],
        [0.823529411764706,  0.470588235294118,  0.176470588235294],
        [0.827450980392157,  0.592156862745098,  0.172549019607843],
        [0.831372549019608,  0.709803921568627,  0.168627450980392],
        [0.835294117647059,  0.811764705882353,  0.164705882352941],
        [0.839215686274510,  0.898039215686275,  0.160784313725490],
        [0.843137254901961,  0.956862745098039,  0.156862745098039],
        [0.847058823529412,  0.988235294117647,  0.152941176470588],
        [0.850980392156863,  0.992156862745098,  0.149019607843137],
        [0.854901960784314,  0.964705882352941,  0.145098039215686],
        [0.858823529411765,  0.909803921568627,  0.141176470588235],
        [0.862745098039216,  0.831372549019608,  0.137254901960784],
        [0.866666666666667,  0.729411764705882,  0.133333333333333],
        [0.870588235294118,  0.615686274509804,  0.129411764705882],
        [0.874509803921569,  0.498039215686275,  0.125490196078431],
        [0.878431372549020,  0.376470588235294,  0.121568627450980],
        [0.882352941176471,  0.262745098039216,  0.117647058823529],
        [0.886274509803922,  0.160784313725490,  0.113725490196078],
        [0.890196078431372,  0.082352941176471,  0.109803921568627],
        [0.894117647058824,  0.027450980392157,  0.105882352941176],
        [0.898039215686275,  0.000000000000000,  0.101960784313725],
        [0.901960784313726,  0.003921568627451,  0.098039215686275],
        [0.905882352941176,  0.035294117647059,  0.094117647058824],
        [0.909803921568627,  0.094117647058824,  0.090196078431373],
        [0.913725490196078,  0.180392156862745,  0.086274509803922],
        [0.917647058823529,  0.282352941176471,  0.082352941176471],
        [0.921568627450980,  0.400000000000000,  0.078431372549020],
        [0.925490196078431,  0.521568627450980,  0.074509803921569],
        [0.929411764705882,  0.639215686274510,  0.070588235294118],
        [0.933333333333333,  0.752941176470588,  0.066666666666667],
        [0.937254901960784,  0.847058823529412,  0.062745098039216],
        [0.941176470588235,  0.921568627450980,  0.058823529411765],
        [0.945098039215686,  0.972549019607843,  0.054901960784314],
        [0.949019607843137,  0.992156862745098,  0.050980392156863],
        [0.952941176470588,  0.984313725490196,  0.047058823529412],
        [0.956862745098039,  0.945098039215686,  0.043137254901961],
        [0.960784313725490,  0.882352941176471,  0.039215686274510],
        [0.964705882352941,  0.792156862745098,  0.035294117647059],
        [0.968627450980392,  0.686274509803922,  0.031372549019608],
        [0.972549019607843,  0.568627450980392,  0.027450980392157],
        [0.976470588235294,  0.447058823529412,  0.023529411764706],
        [0.980392156862745,  0.329411764705882,  0.019607843137255],
        [0.984313725490196,  0.219607843137255,  0.015686274509804],
        [0.988235294117647,  0.125490196078431,  0.011764705882353]];

% Interpolate to requested number of colors.

P = size(cmap,1);

if (P ~= M)
  cmap = interp1(1:size(cmap,1), cmap, linspace(1,P,M), 'linear');
end

return
