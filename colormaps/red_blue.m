function cmap = red_blue(varargin)

% RED_BLUE: 256 color palette
%
% cmap = red_blue(M)
%
% Magma colormap by Nathaniel J. Smith and Stefan van der Walt.
%
% On Input:
%
%    M        Number of colors (integer, OPTIONAL)
%
% On Ouput:
%
%    cmap     Mx3 colormap matrix
%
% Usage:
%
%    colormap(red_blue)
%    colormap(flipud(red_blue))
%
% Adapted from 'redblue.m'.

% svn $Id$
%===========================================================================%
%  Copyright (c) 2002-2024 The ROMS/TOMS Group                              %
%    Licensed under a MIT/X style license                                   %
%    See License_ROMS.md                            Hernan G. Arango        %
%===========================================================================%

% Initialize.

switch numel(varargin)
  case 0
    M = 256;
  case 1
    M = varargin{1};
end

% Set 256 colormap.

cmap = [[1                         0.228846153846154         0.228846153846154],
        [1                         0.234615384615385         0.234615384615385],
        [1                         0.240384615384615         0.240384615384615],
        [1                         0.246153846153846         0.246153846153846],
        [1                         0.251923076923077         0.251923076923077],
        [1                         0.257692307692308         0.257692307692308],
        [1                         0.263461538461538         0.263461538461538],
        [1                         0.269230769230769         0.269230769230769],
        [1                                     0.275                     0.275],
        [1                         0.280769230769231         0.280769230769231],
        [1                         0.286538461538462         0.286538461538462],
        [1                         0.292307692307692         0.292307692307692],
        [1                         0.298076923076923         0.298076923076923],
        [1                         0.303846153846154         0.303846153846154],
        [1                         0.309615384615385         0.309615384615385],
        [1                         0.315384615384615         0.315384615384615],
        [1                         0.321153846153846         0.321153846153846],
        [1                         0.326923076923077         0.326923076923077],
        [1                         0.332692307692308         0.332692307692308],
        [1                         0.338461538461538         0.338461538461538],
        [1                         0.344230769230769         0.344230769230769],
        [1                                      0.35                      0.35],
        [1                         0.355769230769231         0.355769230769231],
        [1                         0.361538461538462         0.361538461538462],
        [1                         0.367307692307692         0.367307692307692],
        [1                         0.373076923076923         0.373076923076923],
        [1                         0.378846153846154         0.378846153846154],
        [1                         0.384615384615385         0.384615384615385],
        [1                         0.390384615384615         0.390384615384615],
        [1                         0.396153846153846         0.396153846153846],
        [1                         0.401923076923077         0.401923076923077],
        [1                         0.407692307692308         0.407692307692308],
        [1                         0.413461538461538         0.413461538461538],
        [1                         0.419230769230769         0.419230769230769],
        [1                                     0.425                     0.425],
        [1                         0.430769230769231         0.430769230769231],
        [1                         0.436538461538462         0.436538461538462],
        [1                         0.442307692307692         0.442307692307692],
        [1                         0.448076923076923         0.448076923076923],
        [1                         0.453846153846154         0.453846153846154],
        [1                         0.459615384615385         0.459615384615385],
        [1                         0.465384615384615         0.465384615384615],
        [1                         0.471153846153846         0.471153846153846],
        [1                         0.476923076923077         0.476923076923077],
        [1                         0.482692307692308         0.482692307692308],
        [1                         0.488461538461539         0.488461538461539],
        [1                         0.494230769230769         0.494230769230769],
        [1                                       0.5                       0.5],
        [1                         0.505769230769231         0.505769230769231],
        [1                         0.511538461538461         0.511538461538461],
        [1                         0.517307692307692         0.517307692307692],
        [1                         0.523076923076923         0.523076923076923],
        [1                         0.528846153846154         0.528846153846154],
        [1                         0.534615384615385         0.534615384615385],
        [1                         0.540384615384615         0.540384615384615],
        [1                         0.546153846153846         0.546153846153846],
        [1                         0.551923076923077         0.551923076923077],
        [1                         0.557692307692308         0.557692307692308],
        [1                         0.563461538461538         0.563461538461538],
        [1                         0.569230769230769         0.569230769230769],
        [1                                     0.575                     0.575],
        [1                         0.580769230769231         0.580769230769231],
        [1                         0.586538461538462         0.586538461538462],
        [1                         0.592307692307692         0.592307692307692],
        [1                         0.598076923076923         0.598076923076923],
        [1                         0.603846153846154         0.603846153846154],
        [1                         0.609615384615385         0.609615384615385],
        [1                         0.615384615384615         0.615384615384615],
        [1                         0.621153846153846         0.621153846153846],
        [1                         0.626923076923077         0.626923076923077],
        [1                         0.632692307692308         0.632692307692308],
        [1                         0.638461538461538         0.638461538461538],
        [1                         0.644230769230769         0.644230769230769],
        [1                                      0.65                      0.65],
        [1                         0.655769230769231         0.655769230769231],
        [1                         0.661538461538462         0.661538461538462],
        [1                         0.667307692307692         0.667307692307692],
        [1                         0.673076923076923         0.673076923076923],
        [1                         0.678846153846154         0.678846153846154],
        [1                         0.684615384615385         0.684615384615385],
        [1                         0.690384615384615         0.690384615384615],
        [1                         0.696153846153846         0.696153846153846],
        [1                         0.701923076923077         0.701923076923077],
        [1                         0.707692307692308         0.707692307692308],
        [1                         0.713461538461538         0.713461538461538],
        [1                         0.719230769230769         0.719230769230769],
        [1                                     0.725                     0.725],
        [1                         0.730769230769231         0.730769230769231],
        [1                         0.736538461538462         0.736538461538462],
        [1                         0.742307692307692         0.742307692307692],
        [1                         0.748076923076923         0.748076923076923],
        [1                         0.753846153846154         0.753846153846154],
        [1                         0.759615384615385         0.759615384615385],
        [1                         0.765384615384615         0.765384615384615],
        [1                         0.771153846153846         0.771153846153846],
        [1                         0.776923076923077         0.776923076923077],
        [1                         0.782692307692308         0.782692307692308],
        [1                         0.788461538461538         0.788461538461538],
        [1                         0.794230769230769         0.794230769230769],
        [1                                       0.8                       0.8],
        [1                         0.805769230769231         0.805769230769231],
        [1                         0.811538461538462         0.811538461538462],
        [1                         0.817307692307692         0.817307692307692],
        [1                         0.823076923076923         0.823076923076923],
        [1                         0.828846153846154         0.828846153846154],
        [1                         0.834615384615385         0.834615384615385],
        [1                         0.840384615384615         0.840384615384615],
        [1                         0.846153846153846         0.846153846153846],
        [1                         0.851923076923077         0.851923076923077],
        [1                         0.857692307692308         0.857692307692308],
        [1                         0.863461538461539         0.863461538461539],
        [1                         0.869230769230769         0.869230769230769],
        [1                                     0.875                     0.875],
        [1                                     0.875                     0.875],
        [1                         0.910714285714286         0.910714285714286],
        [1                         0.946428571428571         0.946428571428571],
        [1                         0.982142857142857         0.982142857142857],
        [0.982142857142857         0.982142857142857                         1],
        [0.946428571428571         0.946428571428571                         1],
        [0.910714285714286         0.910714285714286                         1],
        [            0.875                     0.875                         1],
        [            0.875                     0.875                         1],
        [0.869230769230769         0.869230769230769                         1],
        [0.863461538461539         0.863461538461539                         1],
        [0.857692307692308         0.857692307692308                         1],
        [0.851923076923077         0.851923076923077                         1],
        [0.846153846153846         0.846153846153846                         1],
        [0.840384615384615         0.840384615384615                         1],
        [0.834615384615385         0.834615384615385                         1],
        [0.828846153846154         0.828846153846154                         1],
        [0.823076923076923         0.823076923076923                         1],
        [0.817307692307692         0.817307692307692                         1],
        [0.811538461538462         0.811538461538462                         1],
        [0.805769230769231         0.805769230769231                         1],
        [              0.8                       0.8                         1],
        [0.794230769230769         0.794230769230769                         1],
        [0.788461538461538         0.788461538461538                         1],
        [0.782692307692308         0.782692307692308                         1],
        [0.776923076923077         0.776923076923077                         1],
        [0.771153846153846         0.771153846153846                         1],
        [0.765384615384615         0.765384615384615                         1],
        [0.759615384615385         0.759615384615385                         1],
        [0.753846153846154         0.753846153846154                         1],
        [0.748076923076923         0.748076923076923                         1],
        [0.742307692307692         0.742307692307692                         1],
        [0.736538461538462         0.736538461538462                         1],
        [0.730769230769231         0.730769230769231                         1],
        [            0.725                     0.725                         1],
        [0.719230769230769         0.719230769230769                         1],
        [0.713461538461538         0.713461538461538                         1],
        [0.707692307692308         0.707692307692308                         1],
        [0.701923076923077         0.701923076923077                         1],
        [0.696153846153846         0.696153846153846                         1],
        [0.690384615384615         0.690384615384615                         1],
        [0.684615384615385         0.684615384615385                         1],
        [0.678846153846154         0.678846153846154                         1],
        [0.673076923076923         0.673076923076923                         1],
        [0.667307692307692         0.667307692307692                         1],
        [0.661538461538462         0.661538461538462                         1],
        [0.655769230769231         0.655769230769231                         1],
        [             0.65                      0.65                         1],
        [0.644230769230769         0.644230769230769                         1],
        [0.638461538461538         0.638461538461538                         1],
        [0.632692307692308         0.632692307692308                         1],
        [0.626923076923077         0.626923076923077                         1],
        [0.621153846153846         0.621153846153846                         1],
        [0.615384615384615         0.615384615384615                         1],
        [0.609615384615385         0.609615384615385                         1],
        [0.603846153846154         0.603846153846154                         1],
        [0.598076923076923         0.598076923076923                         1],
        [0.592307692307692         0.592307692307692                         1],
        [0.586538461538462         0.586538461538462                         1],
        [0.580769230769231         0.580769230769231                         1],
        [            0.575                     0.575                         1],
        [0.569230769230769         0.569230769230769                         1],
        [0.563461538461538         0.563461538461538                         1],
        [0.557692307692308         0.557692307692308                         1],
        [0.551923076923077         0.551923076923077                         1],
        [0.546153846153846         0.546153846153846                         1],
        [0.540384615384615         0.540384615384615                         1],
        [0.534615384615385         0.534615384615385                         1],
        [0.528846153846154         0.528846153846154                         1],
        [0.523076923076923         0.523076923076923                         1],
        [0.517307692307692         0.517307692307692                         1],
        [0.511538461538461         0.511538461538461                         1],
        [0.505769230769231         0.505769230769231                         1],
        [              0.5                       0.5                         1],
        [0.494230769230769         0.494230769230769                         1],
        [0.488461538461539         0.488461538461539                         1],
        [0.482692307692308         0.482692307692308                         1],
        [0.476923076923077         0.476923076923077                         1],
        [0.471153846153846         0.471153846153846                         1],
        [0.465384615384615         0.465384615384615                         1],
        [0.459615384615385         0.459615384615385                         1],
        [0.453846153846154         0.453846153846154                         1],
        [0.448076923076923         0.448076923076923                         1],
        [0.442307692307692         0.442307692307692                         1],
        [0.436538461538462         0.436538461538462                         1],
        [0.430769230769231         0.430769230769231                         1],
        [            0.425                     0.425                         1],
        [0.419230769230769         0.419230769230769                         1],
        [0.413461538461538         0.413461538461538                         1],
        [0.407692307692308         0.407692307692308                         1],
        [0.401923076923077         0.401923076923077                         1],
        [0.396153846153846         0.396153846153846                         1],
        [0.390384615384615         0.390384615384615                         1],
        [0.384615384615385         0.384615384615385                         1],
        [0.378846153846154         0.378846153846154                         1],
        [0.373076923076923         0.373076923076923                         1],
        [0.367307692307692         0.367307692307692                         1],
        [0.361538461538462         0.361538461538462                         1],
        [0.355769230769231         0.355769230769231                         1],
        [             0.35                      0.35                         1],
        [0.344230769230769         0.344230769230769                         1],
        [0.338461538461538         0.338461538461538                         1],
        [0.332692307692308         0.332692307692308                         1],
        [0.326923076923077         0.326923076923077                         1],
        [0.321153846153846         0.321153846153846                         1],
        [0.315384615384615         0.315384615384615                         1],
        [0.309615384615385         0.309615384615385                         1],
        [0.303846153846154         0.303846153846154                         1],
        [0.298076923076923         0.298076923076923                         1],
        [0.292307692307692         0.292307692307692                         1],
        [0.286538461538462         0.286538461538462                         1],
        [0.280769230769231         0.280769230769231                         1],
        [            0.275                     0.275                         1],
        [0.269230769230769         0.269230769230769                         1],
        [0.263461538461538         0.263461538461538                         1],
        [0.257692307692308         0.257692307692308                         1],
        [0.251923076923077         0.251923076923077                         1],
        [0.246153846153846         0.246153846153846                         1],
        [0.240384615384615         0.240384615384615                         1],
        [0.234615384615385         0.234615384615385                         1],
        [0.228846153846154         0.228846153846154                         1],
        [0.223076923076923         0.223076923076923                         1],
        [0.217307692307692         0.217307692307692                         1],
        [0.211538461538462         0.211538461538462                         1],
        [0.205769230769231         0.205769230769231                         1],
        [              0.2                       0.2                         1],
        [0.194230769230769         0.194230769230769                         1],
        [0.188461538461538         0.188461538461538                         1],
        [0.182692307692308         0.182692307692308                         1],
        [0.176923076923077         0.176923076923077                         1],
        [0.171153846153846         0.171153846153846                         1],
        [0.165384615384615         0.165384615384615                         1],
        [0.159615384615385         0.159615384615385                         1],
        [0.153846153846154         0.153846153846154                         1],
        [0.148076923076923         0.148076923076923                         1],
        [0.142307692307692         0.142307692307692                         1],
        [0.136538461538461         0.136538461538461                         1],
        [0.130769230769231         0.130769230769231                         1],
        [            0.125                     0.125                         1],
        [            0.125                     0.125                         1],
        [.0833333333333334        0.0833333333333334                         1],
        [.0416666666666666        0.0416666666666666                         1],
        [                0                         0                         1]];

% Interpolate to requested number of colors.

P = size(cmap,1);

if (P ~= M)
  cmap = interp1(1:size(cmap,1), cmap, linspace(1,P,M), 'linear');
end

return
